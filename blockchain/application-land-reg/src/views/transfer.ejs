<%- include("partials/header.ejs", { title: "Transfer Land" , show_navbar: true
}) %>

<div class="d-flex align-items-center bg-light" style="min-height: 100vh;">
    <div class="container">
        <div class="d-flex justify-content-center">
            <div class="col-md-6">
                <div class="card rounded-0 shadow">
                    <div class="card-body">
                        <h3>Transfer Land</h3>
                        <%- include("partials/error.ejs") %>
                        <form
                            action="/form/transfer"
                            method="POST"
                            enctype="multipart/form-data"
                        >
                            <%- include("partials/land.ejs", { showKhasra: true,
                            allowEmpty: false }) %> <% if(typeof errorMsg !=
                            'undefined') { %>
                            <div class="form-group">
                                <label for="currentKhataNo"
                                    >Current Khata Number:</label
                                >
                                <input
                                    required
                                    type="number"
                                    name="currentKhataNo"
                                    class="form-control"
                                    id="currentKhataNo"
                                    placeholder="Enter Current Khata number"
                                    value="<%= data.currentKhataNo %>"
                                />
                            </div>
                            <div class="form-group">
                                <label for="currentOwnerName"
                                    >Current Owner Name:</label
                                >
                                <input
                                    required
                                    type="text"
                                    name="currentOwnerName"
                                    class="form-control"
                                    id="currentOwnerName"
                                    placeholder="Enter Current Owner Name"
                                    pattern="[a-zA-Z][a-zA-Z ]*"
                                    value="<%= data.currentOwnerName %>"
                                />
                            </div>
                            <div class="form-group">
                                <label for="newKhataNo"
                                    >New Khata Number:</label
                                >
                                <input
                                    required
                                    type="number"
                                    name="newKhataNo"
                                    class="form-control"
                                    id="newKhataNo"
                                    placeholder="Enter New Khata Number"
                                    value="<%= data.newKhataNo %>"
                                />
                            </div>
                            <div class="form-group">
                                <label for="newOwnerName"
                                    >New Owner Name:</label
                                >
                                <input
                                    required
                                    type="text"
                                    name="newOwnerName"
                                    class="form-control"
                                    id="newOwnerName"
                                    placeholder="Enter New Owner Name"
                                    pattern="[a-zA-Z][a-zA-Z ]*"
                                    value="<%= data.newOwnerName %>"
                                />
                            </div>
                            <div class="form-group">
                                <label for="price">Price:</label>
                                <input
                                    required
                                    type="number"
                                    name="price"
                                    class="form-control"
                                    id="price"
                                    placeholder="Enter Price"
                                    value="<%= data.price %>"
                                />
                            </div>
                            <% } else { %>
                            <div class="form-group">
                                <label for="currentKhataNo"
                                    >Current Khata Number:</label
                                >
                                <input
                                    required
                                    type="number"
                                    name="currentKhataNo"
                                    class="form-control"
                                    id="currentKhataNo"
                                    placeholder="Enter Current Khata number"
                                />
                            </div>
                            <div class="form-group">
                                <label for="currentOwnerName"
                                    >Current Owner Name:</label
                                >
                                <input
                                    required
                                    type="text"
                                    name="currentOwnerName"
                                    class="form-control"
                                    id="currentOwnerName"
                                    placeholder="Enter Current Owner Name"
                                    pattern="[a-zA-Z][a-zA-Z ]*"
                                />
                            </div>
                            <div class="form-group">
                                <label for="newKhataNo"
                                    >New Khata Number:</label
                                >
                                <input
                                    required
                                    type="number"
                                    name="newKhataNo"
                                    class="form-control"
                                    id="newKhataNo"
                                    placeholder="Enter New Khata Number"
                                />
                            </div>
                            <div class="form-group">
                                <label for="newOwnerName"
                                    >New Owner Name:</label
                                >
                                <input
                                    required
                                    type="text"
                                    name="newOwnerName"
                                    class="form-control"
                                    id="newOwnerName"
                                    placeholder="Enter New Owner Name"
                                    pattern="[a-zA-Z][a-zA-Z ]*"
                                />
                            </div>
                            <div class="form-group">
                                <label for="price">Price:</label>
                                <input
                                    required
                                    type="number"
                                    name="price"
                                    class="form-control"
                                    id="price"
                                    placeholder="Enter Price"
                                />
                            </div>
                            <% } %>
                            <div class="form-group">
                                <label for="date">Date:</label>
                                <input
                                    required
                                    type="date"
                                    name="date"
                                    class="form-control"
                                    id="date"
                                    oninput="updateDate()"
                                />
                                <input
                                    type="hidden"
                                    name="dateTime"
                                    id="dateTime"
                                />
                            </div>
                            <!-- <div class="form-group">
                                <label for="certificate">Certificate:</label>
                                <input required type="file" name="certificate" class="form-control" id="certificate">
                            </div> -->
                            <div class="form-group">
                                <label for="otherDocs">Other Docs:</label>
                                <input
                                    type="file"
                                    name="otherDocs"
                                    class="form-control"
                                    id="otherDocs"
                                    multiple
                                />
                            </div>
                            <button type="submit" class="btn btn-primary">
                                Submit
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function updateDate() {
        var dateVal = document.getElementById('date').valueAsNumber;
        var container = document.getElementById('dateTime');
        container.value = dateVal;
    }
</script>

<%- include("partials/footer.ejs") %>
